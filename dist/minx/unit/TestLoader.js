!function(o){o.Class("zn.unit.TestLoader",{static:!0,properties:{basePath:""},methods:{init:function(){this._casePaths=[],this._caseMethods=[]},load:function(t){return Array.isArray(t)?this._casePaths.concat(t):this._casePaths.push(t),this},run:function(){this.__testingCase()},__testingCase:function(){var s=this._casePaths.shift(),t=this.basePath+s;_self=this,s&&o.load(t,function(t){var e=t.getMeta("methods")||[];o.info("Testing Case: "+s),_self.__testingCaseMethods(e)})},__testingCaseMethods:function(t){for(var e in this._caseMethods=[],t){var s=t[e];s.key=e,this._caseMethods.push(s)}this.__testingCaseMethod()},__testingCaseMethod:function(){var t=this._caseMethods.shift(),e=this;if(t){var s=(new Date).getTime(),i=t.key,n=t.call(null);n&&n.then?n.then(function(){e.__getDiffSecond(s,i),e.__testingCaseMethod()}):(e.__getDiffSecond(s,i),e.__testingCaseMethod())}else e.__testingCase()},__getDiffSecond:function(t,e){var s=(new Date).getTime()-t,i=(Math.floor(s/864e5),s%864e5),n=(Math.floor(i/36e5),i%36e5),a=(Math.floor(n/6e4),n%6e4),h=Math.round(a/1e3);o.info("Test method "+e+" :{ second: "+h+"s, diff: "+s+" }")}}})}(zn);